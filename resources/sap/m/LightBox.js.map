{"version":3,"file":"LightBox.js","names":["sap","ui","define","library","Control","Library","Popup","IllustratedMessage","IllustratedMessageType","IllustratedMessageSize","Button","ResizeHandler","Device","InstanceManager","InvisibleText","coreLibrary","LightBoxRenderer","BusyIndicator","jQuery","DomUnitsRem","ButtonType","LightBoxLoadingStates","OpenState","LightBox","extend","metadata","interfaces","aggregations","imageContent","type","multiple","bindable","_closeButton","visibility","_errorMessage","_invisiblePopupText","_busy","defaultAggregation","events","designtime","renderer","prototype","init","this","_createPopup","_iWidth","_iHeight","_isRendering","_iResizeListenerId","_$lightBox","_oRB","getResourceBundleFor","setAggregation","onBeforeRendering","oImageContent","_getImageContent","oNativeImage","_getNativeImage","sImageSrc","getImageSrc","sState","_getImageState","sInvisiblePopupText","getText","getTitle","getSubtitle","_createErrorControls","getAttribute","src","resize","detachHandler","_fnResizeListener","deregister","Loading","_iTimeoutId","setTimeout","_setImageState","TimeOutError","Loaded","clearTimeout","_calculateSizes","Error","getAggregation","setText","onAfterRendering","$","_onResize","bind","attachHandler","register","forceInvalidate","invalidate","oOrigin","isOpen","close","exit","_oPopup","detachOpened","_fnPopupOpened","detachClosed","_fnPopupClosed","destroy","removeLightBoxInstance","open","setContent","Dock","CenterCenter","window","addLightBoxInstance","_getCloseButton","oCloseButton","id","getId","text","Transparent","press","_getBusyIndicator","oBusyIndicator","_imageStateChanged","sNewState","attachOpened","attachClosed","on","off","sErrorTitle","sErrorSubtitle","oIllustratedMessage","setTitle","setDescription","illustrationType","UnableToLoadImage","illustrationSize","system","phone","Auto","Scene","enableVerticalResponsiveness","title","description","oDomRef","getDomRef","vLightBoxWidth","vLightBoxHeight","fHeight","fWidth","iScrollOffsetY","Math","round","scrollY","iScrollOffsetX","scrollX","iTop","iLeft","width","height","clientWidth","clientHeight","innerHeight","innerWidth","css","top","left","iFooterHeightPx","_calculateFooterHeightInPx","iImageMinHeight","oImage","iHeight","_setImageSize","naturalWidth","naturalHeight","_calculateAndSetLightBoxSize","_pxToNumber","getHeight","toggleStyleClass","_isBusy","bCompact","parents","hasClass","oSubtitle","iFooterHeightRem","toPx","iImageHeight","iImageWidth","iLightBoxMinWidth","iLightBoxMinHeight","getWidth","max","_bIsLightBoxBiggerThanMinDimensions","iWidth","iFooterHeight","oDimensions","_getDimensions","setWidth","setHeight","iLightboxMinWidth","iLightboxMinHeight","$window","iWindowHeight","iWindowWidth","iMinimumOffset","_calculateOffset","iAvailableWidth","iAvailableHeight","fScaleRatio","sSizeToConvert","substring","length","aImageContent","desktop","tablet","onsapescape","oEvent","sOpenState","getOpenState","CLOSED","CLOSING","stopPropagation"],"sources":["LightBox-dbg.js"],"mappings":"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"}