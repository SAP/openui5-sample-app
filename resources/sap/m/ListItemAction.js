/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","./ListItemActionBase","./Button","sap/ui/Device","sap/ui/core/Lib","sap/ui/core/IconPool","sap/ui/core/ShortcutHintsMixin"],function(t,e,o,i,n,s,c){"use strict";const r=t.ListItemActionType;const p=t.ButtonType;let u=null;let a;let h;var _=e.extend("sap.m.ListItemAction",{metadata:{library:"sap.m",properties:{type:{type:"sap.m.ListItemActionType",group:"Appearance",defaultValue:r.Custom}}}});_._showMenu=async function(t,e){if(!h){await function(){return new Promise(t=>{sap.ui.require(["sap/m/Menu","sap/m/MenuItem"],function(e,o){a=o;h=e;t()})})}()}u??=new h({itemSelected:function(t){const e=t.getParameter("item");const o=e.data("action");o._onActionPress()}});u.destroyItems();t.forEach(t=>{const e=t._getActionInfo();const o=new a({text:e.text,icon:e.icon});o.data("action",t);u.addItem(o)});u.openBy(e)};_.prototype.init=function(){this._oAction=null};_.prototype.invalidate=function(){var t=this.getParent();if(t&&t.bOutput){e.prototype.invalidate.apply(this,arguments)}};_.prototype.setType=function(t){this.setProperty("type",t);if(this._oAction){this._oAction.destroy();this._oAction=null}return this};_.prototype.setText=function(t){this.setProperty("text",t,true);if(this._oAction&&this.getType()===r.Custom){this._oAction.setTooltip(t)}return this};_.prototype.setIcon=function(t){this.setProperty("icon",t,true);if(this._oAction&&this.getType()===r.Custom){this._oAction.setIcon(t)}return this};_.prototype.exit=function(){this._oAction=null};_.prototype._onActionPress=function(){const t=this.getParent();const e=t.getParent();e._onItemActionPress(t,this)};_.prototype._getActionInfo=function(){const t=n.getResourceBundleFor("sap.m");switch(this.getType()){case r.Edit:return{icon:s.getIconURI("edit"),text:t.getText("LIST_ITEM_EDIT"),shortcut:i.os.macintosh?"LIST_ITEM_EDIT_SHORTCUT_MAC":"LIST_ITEM_EDIT_SHORTCUT"};case r.Delete:return{icon:s.getIconURI("decline"),text:t.getText("LIST_ITEM_DELETE"),shortcut:"LIST_ITEM_DELETE_SHORTCUT"};default:return{icon:this.getIcon(),text:this.getText()}}};_.prototype._getAction=function(){if(!this.getVisible()){return null}if(this._oAction){return this._oAction}const t=this.getType().toLowerCase();const e=this.getId()+"-"+t;const i=this._getActionInfo();this._oAction=new o(e,{icon:i.icon,tooltip:i.text,press:[this._onActionPress,this],type:p.Transparent});if(i.shortcut){c.addConfig(this._oAction,{messageBundleKey:i.shortcut},this._oAction)}this._oAction.useEnabledPropagator(false);this._oAction.addStyleClass("sapMLIAction");this.addDependent(this._oAction);return this._oAction};return _});
//# sourceMappingURL=ListItemAction.js.map