/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","./SuggestionsListRenderer","sap/ui/core/Control","sap/ui/core/RenderManager","sap/ui/core/Element"],function(e,t,i,r,n){"use strict";var o=i.extend("sap.m.SuggestionsList",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}},associations:{parentInput:{type:"sap.ui.core.Control",multiple:false,singularName:"parentInput"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}},renderer:t});o.prototype.init=function(){this._iSelectedItem=-1};o.prototype.onBeforeRendering=function(){this.$().off()};o.prototype.onAfterRendering=function(){this.$().on("mousedown",function(e){e.preventDefault()})};o.prototype.getItems=function(){try{return n.getElementById(this.getParentInput()).getSuggestionItems()}catch(e){return[]}};o.prototype.update=function(){var e;var t=this.getDomRef();if(t){e=(new r).getInterface();this.getRenderer().renderItems(e,this);e.flush(t);e.destroy()}return this};o.prototype.selectByIndex=function(e,t){var i=this.getItems();var r;var o;var s;var a=n.getElementById(this.getParentInput());var l="aria-activedescendant";if(isNaN(parseInt(e))){e=-1;t=false}if(!i.length||t&&e===0||!t&&e<0){r=-1}else{if(t){if(this._iSelectedItem<0){r=(e<0?i.length:-1)+e}else{r=this._iSelectedItem+e}}else{r=e}r=Math.min(Math.max(r,0),i.length-1)}this._iSelectedItem=r;if(i.length){this.$().children("li").removeClass("sapMSelectListItemBaseSelected").attr("aria-selected","false").eq(r).addClass("sapMSelectListItemBaseSelected").attr("aria-selected","true")}if(a){if(r>=0){o=a.getSuggestionItems()[r];if(o){s=o.getId();this._scrollToItem(o)}}if(s){a.$("I").attr(l,s)}else{a.$("I").removeAttr(l);a.$("SuggDescr").text("")}}return this._iSelectedItem};o.prototype._scrollToItem=function(e){var t=this.getParent().$().find(".sapMPopoverCont")[0],i,r,n,o;if(!e||!e.getDomRef()||!t){return}r=e.getDomRef().getBoundingClientRect();i=t.getBoundingClientRect();n=i.top-r.top;o=r.bottom-i.bottom;if(n>0){t.scrollTop=Math.max(t.scrollTop-n,0)}else if(o>0){t.scrollTop=t.scrollTop+o}};o.prototype.getSelectedItemIndex=function(){return this._iSelectedItem};return o});
//# sourceMappingURL=SuggestionsList.js.map