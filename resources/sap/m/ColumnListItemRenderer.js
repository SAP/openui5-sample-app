/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/ControlBehavior","sap/ui/core/Lib","sap/ui/core/Renderer","sap/ui/core/library","sap/ui/Device","sap/base/Log","./library","./ListItemBaseRenderer"],function(e,t,n,l,i,a,s,r){"use strict";var o=s.PopinDisplay;var d=l.VerticalAlign;var p=n.extend(r);p.apiVersion=2;p.render=function(e,t){var n=t.getTable();if(!n){return}r.render.apply(this,arguments);if(t.getVisible()&&n.hasPopin()){this.renderPopin(e,t,n)}};p.makeFocusable=function(e){if(i.system.desktop){e.attr("tabindex","-1");e.class("sapMTblCellFocusable")}};p.openStartGridCell=function(e,t,n,l,i){e.openStart(n,l);e.class(i);e.attr("role","gridcell");e.attr("aria-colindex",t.aAriaOwns.push(l));this.makeFocusable(e);if(t.isSelectable()){e.attr("aria-selected",t.getSelected())}return e};p.renderHighlight=function(e,t){e.openStart("td");e.class("sapMListTblHighlightCell");e.attr("role","presentation");e.openEnd();r.renderHighlight.apply(this,arguments);e.close("td")};p.renderNavigated=function(e,t){e.openStart("td");e.class("sapMListTblNavigatedCell");e.attr("role","presentation");e.openEnd();r.renderNavigated.apply(this,arguments);e.close("td")};p.renderType=function(e,t){var n=t.getTable();if(!n||!n.doItemsNeedTypeColumn()){return}this.openStartGridCell(e,t,"td",t.getId()+"-TypeCell","sapMListTblNavCol").openEnd();r.renderType.apply(this,arguments);e.close("td")};p.renderModeContent=function(e,t){this.openStartGridCell(e,t,"td",t.getId()+"-ModeCell","sapMListTblSelCol").openEnd();r.renderModeContent.apply(this,arguments);e.close("td")};p.renderActions=function(e,t){this.openStartGridCell(e,t,"td",t.getId()+"-Actions","sapMListTblActionsCol").openEnd();r.renderActions.apply(this,arguments);e.close("td")};p.renderCounter=function(e,t){};p.getAriaRole=function(e){return"row"};p.getAccessbilityPosition=function(e){var t=e.getTable();if(t){var n=t.getVisibleItems().indexOf(e)+t.hasHeaderRow()+1;return{rowindex:n}}};p.renderLIAttributes=function(e,t){e.class("sapMListTblRow");var n=t.getVAlign();if(n!=d.Inherit){e.class("sapMListTblRow"+n)}var l=t.getTable();if(l){if(l.getAlternateRowColors()){e.class("sapMListTblRowAlternate")}}};p.renderLIContentWrapper=function(t,n){var l=n.getTable();if(!l){return}var i=l.getColumns(true),s=n.getCells();n._destroyClonedHeaders();i.forEach(function(i,r){if(!i.getVisible()||i.isHidden()){return}var o=i.getStyleClass().split(" ").filter(Boolean),p=n.getId()+"-cell"+r,c=s[i.getInitialOrder()],u=i.getVAlign(),g=true;this.openStartGridCell(t,n,"td",p,"sapMListTblCell");t.attr("data-sap-ui-column",i.getId());t.style("text-align",i.getCssAlign());o.forEach(function(e){t.class(e)});if(u!=d.Inherit){t.style("vertical-align",u.toLowerCase())}if(c&&!l.hasPopin()&&i.getMergeDuplicates()){var b=i.getMergeFunctionName(),f=b.split("#"),C=f[1],y=f[0];if(typeof c[y]!="function"){a.warning("mergeFunctionName property is defined on "+i+" but this is not function of "+c)}else if(l._bRendering||!c.bOutput){var h=i.getLastValue(),L=c[y](C);if(h===L){g=e.isAccessibilityEnabled();c.addStyleClass("sapMListTblCellDupCnt");t.class("sapMListTblCellDup")}else{i.setLastValue(L)}}else if(c.hasStyleClass("sapMListTblCellDupCnt")){t.class("sapMListTblCellDup")}}t.openEnd();if(c&&g){this.applyAriaLabelledBy(i.getHeader(),c);if(!c.getFieldHelpDisplay()){c.setFieldHelpDisplay(i)}t.renderControl(c)}t.close("td")},this)};p.renderDummyCell=function(e,t){e.openStart("td");e.class("sapMListTblDummyCell");e.attr("role","presentation");e.openEnd();e.close("td")};p.applyAriaLabelledBy=function(e,t){if(!e||!e.getText||!e.getVisible()||!t.getAriaLabelledBy){return}if(!t.getAriaLabelledBy().includes(e.getId())){t.addAriaLabelledBy(e)}};p.renderPopin=function(e,n,l){e.openStart("tr",n.getPopin());e.class("sapMListTblSubRow");e.attr("role","none");e.attr("tabindex","-1");e.attr("data-sap-ui-related",n.getId());e.openEnd();this.renderHighlight(e,n);e.openStart("td",n.getId()+"-subcell");e.class("sapMListTblSubRowCell");e.attr("role","none");e.attr("colspan",l.getColCount()-2);e.openEnd();this.openStartGridCell(e,n,"div",n.getId()+"-subcont","sapMListTblSubCnt");e.class("sapMListTblSubCnt"+l.getPopinLayout());e.openEnd();var i=n.getCells(),a=l.getColumns(true);a.forEach(function(a){if(!a.getVisible()||!a.isPopin()){return}var s=i[a.getInitialOrder()];var r=a.getHeader();if(!r&&!s){return}var d=a.getStyleClass().split(" ").filter(Boolean),p=a.getPopinDisplay(),c=r;e.openStart("div");e.class("sapMListTblSubCntRow");if(p==o.Inline){e.class("sapMListTblSubCntRowInline")}d.forEach(function(t){e.class(t)});e.openEnd();if(r&&p!=o.WithoutHeader){e.openStart("div").class("sapMListTblSubCntHdr").openEnd();if(l._aPopinHeaders.indexOf(r)===-1){l._aPopinHeaders.push(c)}r=r.clone();a.addDependent(r);n._addClonedHeader(r);e.renderControl(r);const i=a.getAggregation("_action");if(i){const t=i.clone();a.addDependent(t);n._addClonedHeader(t);e.renderControl(t)}e.openStart("span").class("sapMListTblSubCntSpr");e.attr("data-popin-colon",t.getResourceBundleFor("sap.m").getText("TABLE_POPIN_LABEL_COLON"));e.openEnd().close("span");e.close("div")}if(s){e.openStart("div");e.class("sapMListTblSubCntVal");e.class("sapMListTblSubCntVal"+p);e.openEnd();this.applyAriaLabelledBy(c,s);if(s.getFieldHelpDisplay()===a.getId()){s.setFieldHelpDisplay()}e.renderControl(s);e.close("div")}e.close("div")},this);e.close("div");e.close("td");this.renderNavigated(e,n);e.close("tr")};p.addLegacyOutlineClass=function(e,t){var n=t.getTable();if(n){if(n.hasPopin()||n.shouldRenderDummyColumn()){e.class("sapMTableRowCustomFocus")}}};p.renderContentLatter=function(e,t){var n=t.getTable();if(n&&n.shouldRenderDummyColumn()){if(!n.hasPopin()){r.renderContentLatter.apply(this,arguments);p.renderDummyCell(e,n)}else{p.renderDummyCell(e,n);r.renderContentLatter.apply(this,arguments)}}else{r.renderContentLatter.apply(this,arguments)}};return p},true);
//# sourceMappingURL=ColumnListItemRenderer.js.map