/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/p13n/SelectionController","sap/m/p13n/modules/xConfigAPI","sap/base/util/merge"],function(t,e,n){"use strict";var a=t.extend("sap.m.table.ColumnWidthController",{constructor:function(e){t.apply(this,arguments);this._bExposeXConfig=e.exposeXConfig;this._bXConfigEnabled=true;this._bResetEnabled=true;this._sTargetAggregation="columns"}});a.prototype.getStateKey=function(){return"supplementaryConfig"};a.prototype.getChangeOperations=function(){return{set:"setColumnWidth"}};a.prototype.sanityCheck=function(t){var e=[];if(this._bExposeXConfig){if(t&&t.hasOwnProperty("aggregations")&&t.aggregations.hasOwnProperty("columns")){Object.keys(t.aggregations.columns).forEach(function(n){var a={name:n,width:t.aggregations.columns[n].width};e.push(a)})}}else{Object.keys(t).map(n=>{e.push({key:n,width:t[n]})})}return e};a.prototype.getCurrentState=function(){if(this._bExposeXConfig){return this.getAdaptationControl().getCurrentState().xConfig}else{var t=e.readConfig(this.getAdaptationControl());var n={};Object.keys(t?.aggregations?.columns||{}).forEach(e=>{if(t.aggregations.columns[e]){n[e]=t.aggregations.columns[e].width}});return n}};a.prototype.changesToState=function(t){var a;var o=t.length&&t[0].selectorElement;t.forEach(function(t){var r=n({},t.changeSpecificData.content);var i={name:r.name,controlMeta:{aggregation:"columns"},property:"width",value:r.value};a=e.createAggregationConfig(o,i,a)});return a||{}};a.prototype.getDelta=function(t){t.deltaAttribute="width";t.operation="setColumnWidth";t.changedState=t.changedState instanceof Array?t.changedState:this.sanityCheck(t.changedState);t.existingState=this.sanityCheck(t.existingState);var e=this.getPropertySetterChanges(t);return e};return a});
//# sourceMappingURL=ColumnWidthController.js.map