/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/p13n/SelectionController","sap/m/p13n/modules/xConfigAPI","sap/base/util/merge"],function(t,e,n){"use strict";var o=t.extend("sap.m.table.ColumnWidthController",{constructor:function(e){t.apply(this,arguments);this._bExposeXConfig=e.exposeXConfig;this._bXConfigEnabled=true;this._bResetEnabled=true;this._sTargetAggregation="columns"}});o.prototype.getStateKey=function(){return"supplementaryConfig"};o.prototype.getChangeOperations=function(){return{set:"setColumnWidth"}};o.prototype.sanityCheck=function(t){var e=[];if(this._bExposeXConfig){if(t&&t.hasOwnProperty("aggregations")&&t.aggregations.hasOwnProperty("columns")){Object.keys(t.aggregations.columns).forEach(function(n){var o={name:n,width:t.aggregations.columns[n].width};e.push(o)})}}else{Object.keys(t).map(n=>{e.push({key:n,width:t[n]})})}return e};o.prototype.getCurrentState=function(){if(this._bExposeXConfig){const t=this.getAdaptationControl().getCurrentState().xConfig;if(t?.hasOwnProperty("aggregations")&&t.aggregations.hasOwnProperty("columns")){return{aggregations:{columns:t.aggregations.columns}}}return{}}else{var t=e.readConfig(this.getAdaptationControl());var n={};Object.keys(t?.aggregations?.columns||{}).forEach(e=>{if(t.aggregations.columns[e]){n[e]=t.aggregations.columns[e].width}});return n}};o.prototype.formatToInternalState=function(t){if(t?.aggregations?.columns){return{aggregations:{columns:t.aggregations.columns}}}return{}};o.prototype.changesToState=function(t){var o;var a=t.length&&t[0].selectorElement;t.forEach(function(t){var r=n({},t.changeSpecificData.content);var i={name:r.name,controlMeta:{aggregation:"columns"},property:"width",value:r.value};o=e.createAggregationConfig(a,i,o)});return o||{}};o.prototype.getDelta=function(t){t.deltaAttribute="width";t.operation="setColumnWidth";t.changedState=t.changedState instanceof Array?t.changedState:this.sanityCheck(t.changedState);t.existingState=this.sanityCheck(t.existingState);var e=this.getPropertySetterChanges(t);return e};return o});
//# sourceMappingURL=ColumnWidthController.js.map