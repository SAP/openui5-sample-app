/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/deepEqual","sap/base/strings/hash"],(e,n)=>{"use strict";function t(t,i,l){const f={};const d=[];const s=[];let o;let u;let c;let r;let h=0;let p=0;let y;let a;let g;let b;let m;let O;const x=[];if(t===i||e(t,i)){return x}if(!l||typeof l=="function"){r=l}else{r=l.symbol;m=l.replace;O=l.includeReference}r=r||function(e){if(typeof e!=="string"){e=JSON.stringify(e)||""}return n(e)};for(let e=0;e<i.length;e++){u=r(i[e]);c=f[u];if(!c){c=f[u]={iNewCount:0,iOldCount:0}}c.iNewCount++;s[e]={symbol:c}}for(let e=0;e<t.length;e++){u=r(t[e]);c=f[u];if(!c){c=f[u]={iNewCount:0,iOldCount:0}}c.iOldCount++;c.iOldLine=e;d[e]={symbol:c}}for(let e=0;e<s.length;e++){c=s[e].symbol;if(c.iNewCount===1&&c.iOldCount===1){s[e].line=c.iOldLine;d[c.iOldLine].line=e}}for(let e=0;e<s.length-1;e++){o=s[e].line;if(o!==undefined&&o<d.length-1){if(d[o+1].symbol===s[e+1].symbol){d[o+1].line=e+1;s[e+1].line=o+1}}}for(let e=s.length-1;e>0;e--){o=s[e].line;if(o!==undefined&&o>0){if(d[o-1].symbol===s[e-1].symbol){d[o-1].line=e-1;s[e-1].line=o-1}}}while(h<t.length||p<i.length){a=d[h]&&d[h].line;y=s[p]&&s[p].line;if(m&&a===undefined&&y===undefined&&h<t.length&&p<i.length){x.push({index:p,type:"replace"});h++;p++}else if(h<t.length&&(a===undefined||a<p)){const e={index:p,type:"delete"};if(O){e.affectedIndex=d[h].symbol.iOldLine;e.affectedReference=t}x.push(e);h++}else if(p<i.length&&(y===undefined||y<h)){const e={index:p,type:"insert"};if(O){e.affectedIndex=p;e.affectedReference=i}x.push(e);p++}else if(p===a){p++;h++}else{b=a-p;g=y-h;if(b<=g){const e={index:p,type:"insert"};if(O){e.affectedIndex=p;e.affectedReference=i}x.push(e);p++}else{const e={index:p,type:"delete"};if(O){e.affectedIndex=d[h].symbol.iOldLine;e.affectedReference=t}x.push(e);h++}}}return x}return t});
//# sourceMappingURL=diff.js.map