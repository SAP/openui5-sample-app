{"version":3,"file":"SelectionController.js","names":["sap","ui","define","diff","BaseObject","merge","deepEqual","SelectionPanel","xConfigAPI","Configuration","View","SelectionController","extend","constructor","mSettings","call","this","_oAdaptationControl","control","_aStableKeys","stableKeys","Error","_sTargetAggregation","targetAggregation","_fSelector","getKeyForItem","_oP13nData","_bLiveMode","_bResetEnabled","_bReorderingEnabled","hasOwnProperty","enableReorder","prototype","getAdaptationControl","getTargetAggregation","getChangeOperations","add","remove","move","getSelectorForReset","sanityCheck","oState","initAdaptationUI","oPropertyHelper","oAdaptationData","mixInfoAndState","_oPanel","createUI","Promise","resolve","oSelectionPanel","showHeader","enableCount","setEnableReorder","setP13nData","items","getViewForControl","oControl","getParent","getCurrentState","aState","aAggregationItems","getAggregation","oView","forEach","oItem","iIndex","sId","getLocalId","getId","vRelevant","getVisible","push","key","bind","oXConfig","readConfig","oItemXConfig","aggregations","sKey","aStateKeys","map","o","iCurrentIndex","indexOf","iNewIndex","position","bVisible","visible","bReordered","undefined","length","splice","getStateKey","getDelta","mPropertyBag","sPresenceAttribute","_getPresenceAttribute","externalAppliance","aNewStatePrepared","fnFilterUnselected","applyAbsolute","changedState","filter","_getFilledArray","existingState","mExistingState","arrayToMap","mNewState","iStableIndex","getArrayDeltaChanges","mDeltaInfo","aExistingArray","aChangedArray","sInsertOperation","changeOperations","sRemoveOperation","sMoveOperation","aDeltaAttributes","deltaAttributes","mDeleteInsert","_calculateDeleteInserts","aChanges","_createAddRemoveChanges","deletes","aExistingArrayWithoutDeletes","_removeItems","aChangedArrayWithoutnserts","inserts","aMoveChanges","_createMoveChanges","concat","aInsertChanges","aExistingItems","aChangedItems","sOperation","nIndex","fnSymbol","sDiff","sAttribute","aDiff","aDeleted","i","type","index","name","nDelIndex","_indexOfByKeyName","_createMoveChange","Math","min","aItems","_createAddRemoveChange","_getChangeContent","aTarget","aResultingTarget","aArray","some","nIdx","aSource","mDeleteInserts","_verifyDeltaAttributes","oSource","oTarget","bReturn","sAttr","oProperty","oChangeContent","oContent","value","oAddRemoveChange","selectorElement","changeSpecificData","changeType","content","sPropertykey","oMoveChange","bexternalAppliance","getBeforeApply","aItemState","mItemState","oP13nData","prepareAdaptationData","mItem","oExisting","sortP13nData","getP13nData","_oAdaptationModel","getProperty","model2State","update","isDestroyed","setProperty","itemsGrouped","aPreviousItems","aNewItems","sRemoveProperty","aNewItemsPrepared","aNewItemState","mExistingItems","oExistingItem","iNewPosition","iOldPosition","getPropertySetterChanges","aExistingState","aChangedState","operation","sSetAttribute","deltaAttribute","aSetterChanges","find","vOldValue","vNewValue","bValueChanged","changesToState","oChange","oStateDiffContent","fnEnhace","bGroupData","mItemsGrouped","bEnhance","Function","getProperties","bIsValid","label","tooltip","group","groupLabel","_buildGroupStructure","aGroupedItems","Object","keys","sGroupKey","getCore","getLibraryResourceBundle","getText","groupVisible","oSorting","mP13nTypeSorting","sPositionAttribute","sSelectedAttribute","sLocale","getLocale","toString","oCollator","window","Intl","Collator","sort","mField1","mField2","compare","reduce","mMap","oProp","destroy","apply","arguments"],"sources":["SelectionController-dbg.js"],"mappings":"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"}