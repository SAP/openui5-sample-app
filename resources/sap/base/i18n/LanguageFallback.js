/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log"],function(e){"use strict";const n=/(?:^|-)(saptrc|sappsd|saprigi)(?:-|$)/i;const r=/^((?:[A-Z]{2,3}(?:-[A-Z]{3}){0,3})|[A-Z]{4}|[A-Z]{5,8})(?:-([A-Z]{4}))?(?:-([A-Z]{2}|[0-9]{3}))?((?:-[0-9A-Z]{5,8}|-[0-9][0-9A-Z]{3})*)((?:-[0-9A-WYZ](?:-[0-9A-Z]{2,8})+)*)(?:-(X(?:-[0-9A-Z]{1,8})+))?$/i;const i={he:"iw",yi:"ji",nb:"no"};const t={iw:"he",ji:"yi"};const a=function(e,t){var a;if(typeof e==="string"&&(a=r.exec(e.replace(/_/g,"-")))){var s=a[1].toLowerCase();if(!t){s=i[s]||s}var o=a[2]?a[2].toLowerCase():undefined;var l=a[3]?a[3].toUpperCase():undefined;var f=a[4]?a[4].slice(1):undefined;var c=a[6];if(c&&(a=n.exec(c))||f&&(a=n.exec(f))){return"en_US_"+a[1].toLowerCase()}if(s==="zh"&&!l){if(o==="hans"){l="CN"}else if(o==="hant"){l="TW"}}if(s==="sr"&&o==="latn"){if(t){s="sr_Latn"}else{s="sh"}}return s+(l?"_"+l+(f?"_"+f.replace("-","_"):""):"")}};const s=function(e,n){if(e===""){return e}var r=a(e,n);if(r===undefined){throw new TypeError("Locale '"+e+"' is not a valid BCP47 language tag")}return r};const o=function(e,n){var i;if(typeof e==="string"&&(i=r.exec(e.replace(/_/g,"-")))){var a=i[1].toLowerCase();var s=i[2]?i[2].toLowerCase():undefined;if(n&&a==="sh"&&!s){a="sr_Latn"}else if(!n&&a==="sr"&&s==="latn"){a="sh"}a=t[a]||a;return a+(i[3]?"-"+i[3].toUpperCase()+(i[4]?"-"+i[4].slice(1).replace("_","-"):""):"")}};const l=function(e,n){if(!n||n.length===0||n.includes(e)){return e}e=o(e,true);if(e){e=a(e,true)}if(n.includes(e)){return e}return undefined};const f=function(n,r,i,t,a){r=r&&r.map(function(e){return s(e,true)});if(!a){var o=i!==undefined;i=o?i:"en";i=s(i);if(i!==""&&!l(i,r)){var f="The fallback locale '"+i+"' is not contained in the list of supported locales ['"+r.join("', '")+"']"+t+" and will be ignored.";if(o){throw new Error(f)}e.error(f)}}var c=[],u;while(n!=null){u=l(n,r);if(u!==undefined&&c.indexOf(u)===-1){c.push(u)}if(!n){n=null}else if(n==="zh_HK"){n="zh_TW"}else if(n.lastIndexOf("_")>=0){n=n.slice(0,n.lastIndexOf("_"))}else if(a){n=null}else if(i){n=i;i=null}else{n=""}}return c};const c=function(e,n,r){return f(a(e),n,r,"")};return{convertLocaleToBCP47:o,calculate:f,getFallbackLocales:c,normalize:a}});
//# sourceMappingURL=LanguageFallback.js.map