/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","./GridItemNavigation","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/Selectors"],function(t,e,jQuery){"use strict";var s=e.extend("sap.f.delegate.GridContainerItemNavigation",{});s.prototype.forwardTab=function(t){var e=this._getRootDomRefId()+"-"+(t?"after":"before");document.getElementById(e).focus()};s.prototype._getRootDomRefId=function(){return this.getRootDomRef().getAttribute("id")};s.prototype.onsaptabnext=function(e){var s=this.getItemDomRefs(),a=this.getFocusedIndex(),r=jQuery(s[a]),o=[];var i=r.find(":sapTabbable");i.map(function(t,e){if(e.className.indexOf("DummyArea")===-1){o.push(e)}});var n=o.length-1;var f=t.closestTo(o[n]);var c=jQuery(e.target).closest(":sapTabbable").get(0);if(n===-1||f&&f.getFocusDomRef()===c){this._lastFocusedElement=e.target;this.forwardTab(true)}};s.prototype.onsaptabprevious=function(t){if(!t.target.classList.contains("sapFGridContainerItemWrapper")&&!t.target.parentElement.classList.contains("sapFGridContainerItemWrapper")){this._lastFocusedElement=t.target;return}var e=t.target.id;if(e===this._getRootDomRefId()+"-nodata"){this.forwardTab(false)}this._lastFocusedElement=null;this.forwardTab(false)};s.prototype.onfocusin=function(t){e.prototype.onfocusin.call(this,t);if(t.target===this._getGridInstance().getDomRef("before")&&!this.getRootDomRef().contains(t.relatedTarget)){var s=this._lastFocusedElement||this.getItemDomRefs()[this.getFocusedIndex()];if(s){s.focus()}return}if(t.target===this._getGridInstance().getDomRef("after")&&!this.getRootDomRef().contains(t.relatedTarget)){this._focusPrevious(t)}var a=t.target;if(!a.matches(".sapFGridContainerItemWrapper")){var r=a.closest(".sapFGridContainerItemWrapper");if(r){if(!r.classList.contains(".sapFGCFocusable")){r=r.firstChild}var o=this.getItemDomRefs().indexOf(r);if(o>=0){this.setFocusedIndex(o)}}}};s.prototype._focusPrevious=function(t){var e=this.getItemDomRefs();var s=this.getFocusedIndex();if(!e.length){return}var a;if(s<0){a=e[0];this.setFocusedIndex(0)}else{a=e[s]}var r=jQuery(a);var o=r.find(":sapTabbable");r.add(o).eq(-1).focus()};s.prototype.getInnerFocusItem=function(t){if(!t.classList.contains("sapFGCFocusable")){t=t.firstChild}return t};s.prototype.getWrapperItem=function(t){if(!t.classList.contains("sapFGridContainerItemWrapper")){t=t.closest(".sapFGridContainerItemWrapper")}return t};return s});
//# sourceMappingURL=GridContainerItemNavigation.js.map