/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/isPlainObject","sap/base/util/merge"],function(e,t){"use strict";function n(e){var t=document.querySelector("["+e+"]");return t?t.getAttribute(e):null}function r(){var e=sap.ui.loader._.guessResourceName(window.location.href);if(e==null&&window.location.pathname.startsWith("/base/test/")){const t=window.location.origin+window.location.pathname.replace("/base/test/","/base/test-resources/");e=sap.ui.loader._.guessResourceName(t)}return e?e.replace(/\.html$/,""):null}function s(){return new Promise(function(e){function t(){document.removeEventListener("DOMContentLoaded",t,false);e()}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",t,false)}else{e()}})}function i(e){var t=document.createElement("link");t.rel="stylesheet";t.href=sap.ui.require.toUrl(e);document.head.appendChild(t)}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}const[u,a]=(()=>{const e=new URL(document.baseURI);return[e.origin,e.origin+e.pathname]})();function l(e,t,n){if(e.startsWith("ui5:")){if(!e.startsWith("ui5://")){throw new TypeError(`Test '${n}': Page URLs using the 'ui5' protocol must be absolute. Relative and server absolute URLs are reserved for future use.`)}const t=e.slice(6);e=sap.ui.require.toUrl(t)}else{e=sap.ui.require.toUrl("")+"/../"+e}const r=new URL(e,a);if(t!=null){if(typeof t!=="object"){throw new TypeError(`Test '${n}': Option 'uriParams' must be an object.`)}const e=r.searchParams;for(const n in t){if(Object.hasOwn(t,n)){const r=t[n];if(Array.isArray(r)){r.forEach(t=>e.append(n,t))}else{e.append(n,r)}}}}return r.origin===u?r.pathname+r.search+r.hash:r.href}var c={name:null,beforeBootstrap:null,module:"./{name}.qunit",page:"resources/sap/ui/test/starter/Test.qunit.html?testsuite={suite}&test={name}",title:"QUnit tests '{name}' of suite '{suite}'",qunit:{versions:{1:{module:"sap/ui/thirdparty/qunit",css:"sap/ui/thirdparty/qunit.css"},2:{module:"sap/ui/thirdparty/qunit-2",css:"sap/ui/thirdparty/qunit-2.css"},edge:2,true:"edge"},version:"edge"},sinon:{versions:{1:{module:"sap/ui/thirdparty/sinon",bridge:"sap/ui/thirdparty/sinon-qunit"},4:{module:"sap/ui/thirdparty/sinon-4",bridge:"sap/ui/qunit/sinon-qunit-bridge"},edge:4,true:"edge"},version:"edge",qunitBridge:true,useFakeTimers:false,useFakeServer:false},coverage:{only:null,never:null,branchTracking:false,instrumenter:"auto"},ui5:{bindingSyntax:"complex",libs:[]},bootCore:true,autostart:true};function f(e){if(e&&typeof e==="object"){if(e.qunit===null||e.qunit===false){e.qunit={version:null}}else if(typeof e.qunit==="number"||e.qunit==="edge"){e.qunit={version:e.qunit}}else if(typeof e.qunit!=="object"){e.qunit={}}if(e.sinon===null||e.sinon===false){e.sinon={version:null}}else if(typeof e.sinon==="number"||e.sinon==="edge"){e.sinon={version:e.sinon}}else if(typeof e.sinon!=="object"){e.sinon={}}}else{e=null}return e}function p(n,r){function s(e,t){return e==null?e:e.replace(/\{suite\}/g,r).replace(/\{name\}/g,t)}var i=r.slice(0,r.lastIndexOf("/")+1);function o(e){return e==null?e:e.replace(/^\.\//,i)}var u=t({},c,f(n.defaults));Object.keys(n.tests).forEach(function(r){var i=f(n.tests[r]),a={name:r};const c=(...n)=>{const r=t({},n.shift());while(n.length){const t=n.shift();for(const n in t){r[n]=e(r[n])?c(r[n],t[n]):t[n]}}return r};i=c(u,a,i);if(Array.isArray(i.module)){i.module=i.module.map(function(e){return o(s(e,r))})}else{i.module=o(s(i.module,r))}i.beforeBootstrap=o(s(i.beforeBootstrap,r));i.page=l(s(i.page,r),i.uriParams,r);i.title=s(i.title,r);n.tests[r]=i});n.sortedTests=Object.keys(n.tests).sort(function(e,t){var r=n.tests[e].group||"";var s=n.tests[t].group||"";if(r!==s){return r<s?-1:1}e=e.toUpperCase();t=t.toUpperCase();if(e===t){return 0}return e<t?-1:1}).map(function(e){return n.tests[e]});return n}var d=/^test-resources\/([a-zA-Z_$\-][a-zA-Z_$0-9\-\.]*\/)*testsuite(?:\.[a-z][a-z0-9\-]*)*\.qunit$/;function m(e){return new Promise(function(t,n){if(!e){throw new TypeError("No test suite specified")}if(!d.test(e)){throw new TypeError("Invalid test suite name")}sap.ui.require([e],function(r){try{t(p(r,e))}catch(e){n(e)}},function(e){n(e)})})}function g(e){const t=n("data-sap-ui-resource-roots");if(!t){return}const r=JSON.parse(t);const s={};for(const e in r){s[e.replace(/\./g,"/")]=r[e]||"."}sap.ui.loader.config({paths:s})}sap.ui.loader.config({paths:{"test-resources":sap.ui.require.toUrl("")+"/../test-resources/"}});return{defaultConfig:c,addStylesheet:i,encode:o,getAttribute:n,getDefaultSuiteName:r,getSuiteConfig:m,whenDOMReady:s,registerResourceRoots:g}});
//# sourceMappingURL=_utils.js.map