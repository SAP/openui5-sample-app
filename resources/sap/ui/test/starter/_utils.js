/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/isPlainObject","sap/base/util/merge","sap/ui/thirdparty/URI"],function(e,t,n){"use strict";function r(e){var t=document.querySelector("["+e+"]");return t?t.getAttribute(e):null}function s(){var e=sap.ui.loader._.guessResourceName(location.href);return e?e.replace(/\.html$/,""):null}function i(){return new Promise(function(e){function t(){document.removeEventListener("DOMContentLoaded",t,false);e()}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",t,false)}else{e()}})}function u(e){var t=document.createElement("link");t.rel="stylesheet";t.href=sap.ui.require.toUrl(e);document.head.appendChild(t)}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}const[a,l]=(()=>{const e=new URL(document.baseURI);return[e.origin,e.origin+e.pathname]})();function c(e){if(e.startsWith("ui5:")){if(!e.startsWith("ui5://")){throw new Error("URLs using the 'ui5' protocol must be absolute. Relative and server absolute URLs are reserved for future use.")}const t=e.slice(6);e=sap.ui.require.toUrl(t)}else{e=sap.ui.require.toUrl("")+"/../"+e}const t=new URL(e,l);return t.origin===a?t.pathname+t.search+t.hash:t.href}var f={name:null,beforeBootstrap:null,module:"./{name}.qunit",page:"resources/sap/ui/test/starter/Test.qunit.html?testsuite={suite}&test={name}",title:"QUnit tests '{name}' of suite '{suite}'",qunit:{versions:{1:{module:"sap/ui/thirdparty/qunit",css:"sap/ui/thirdparty/qunit.css"},2:{module:"sap/ui/thirdparty/qunit-2",css:"sap/ui/thirdparty/qunit-2.css"},edge:2,true:"edge"},version:"edge"},sinon:{versions:{1:{module:"sap/ui/thirdparty/sinon",bridge:"sap/ui/thirdparty/sinon-qunit"},4:{module:"sap/ui/thirdparty/sinon-4",bridge:"sap/ui/qunit/sinon-qunit-bridge"},edge:4,true:"edge"},version:"edge",qunitBridge:true,useFakeTimers:false,useFakeServer:false},coverage:{only:null,never:null,branchTracking:false,instrumenter:"auto"},ui5:{bindingSyntax:"complex",noConflict:true,libs:[],theme:"sap_belize"},bootCore:true,autostart:true};function p(e){if(e&&typeof e==="object"){if(e.qunit===null||e.qunit===false){e.qunit={version:null}}else if(typeof e.qunit==="number"||e.qunit==="edge"){e.qunit={version:e.qunit}}else if(typeof e.qunit!=="object"){e.qunit={}}if(e.sinon===null||e.sinon===false){e.sinon={version:null}}else if(typeof e.sinon==="number"||e.sinon==="edge"){e.sinon={version:e.sinon}}else if(typeof e.sinon!=="object"){e.sinon={}}}else{e=null}return e}function d(r,s){function i(e,t){return e==null?e:e.replace(/\{suite\}/g,s).replace(/\{name\}/g,t)}var u=s.slice(0,s.lastIndexOf("/")+1);function o(e){return e==null?e:e.replace(/^\.\//,u)}var a=t({},f,p(r.defaults));Object.keys(r.tests).forEach(function(s){var u=p(r.tests[s]),l={name:s};const f=(...n)=>{const r=t({},n.shift());while(n.length){const t=n.shift();for(const n in t){r[n]=e(r[n])?f(r[n],t[n]):t[n]}}return r};u=f(a,l,u);if(Array.isArray(u.module)){u.module=u.module.map(function(e){return o(i(e,s))})}else{u.module=o(i(u.module,s))}u.beforeBootstrap=o(i(u.beforeBootstrap,s));u.page=c(i(u.page,s));if(u.uriParams){var d=new n(u.page);d.addSearch(u.uriParams);u.page=d.toString()}u.title=i(u.title,s);r.tests[s]=u});r.sortedTests=Object.keys(r.tests).sort(function(e,t){var n=r.tests[e].group||"";var s=r.tests[t].group||"";if(n!==s){return n<s?-1:1}e=e.toUpperCase();t=t.toUpperCase();if(e===t){return 0}return e<t?-1:1}).map(function(e){return r.tests[e]});return r}var m=/^test-resources\/([a-zA-Z_$\-][a-zA-Z_$0-9\-\.]*\/)*testsuite(?:\.[a-z][a-z0-9\-]*)*\.qunit$/;function g(e){return new Promise(function(t,n){if(!e){throw new TypeError("No test suite specified")}if(!m.test(e)){throw new TypeError("Invalid test suite name")}sap.ui.require([e],function(n){t(d(n,e))},function(e){n(e)})})}function h(e){const t=r("data-sap-ui-resource-roots");if(!t){return}const n=JSON.parse(t);const s={};for(const e in n){s[e.replace(/\./g,"/")]=n[e]||"."}sap.ui.loader.config({paths:s})}sap.ui.loader.config({paths:{"test-resources":sap.ui.require.toUrl("")+"/../test-resources/"}});return{defaultConfig:f,addStylesheet:u,encode:o,getAttribute:r,getDefaultSuiteName:s,getSuiteConfig:g,whenDOMReady:i,registerResourceRoots:h}});
//# sourceMappingURL=_utils.js.map