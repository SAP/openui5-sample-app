/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/isEmptyObject","sap/ui/base/Object","sap/ui/test/_OpaLogger","sap/ui/test/autowaiter/_XHRWaiter","sap/ui/test/autowaiter/_fetchWaiter","sap/ui/test/autowaiter/_timeoutWaiter","sap/ui/test/autowaiter/_promiseWaiter","sap/ui/test/autowaiter/_navigationContainerWaiter","sap/ui/test/autowaiter/_cssTransitionWaiter","sap/ui/test/autowaiter/_cssAnimationWaiter","sap/ui/test/autowaiter/_jsAnimationWaiter","sap/ui/test/autowaiter/_UIUpdatesWaiter","sap/ui/test/autowaiter/_moduleWaiter","sap/ui/test/autowaiter/_resourceWaiter"],function(t,e,i,a,r,n,s,o,u,f,c,W,d,p){"use strict";var w=[];var h=i.getLogger("sap.ui.test.autowaiter._autoWaiter");var m=e.extend("sap.ui.test.autowaiter._autoWaiter",{registerWaiter:function(t,e){return new Promise(function(i,a){if(typeof e==="string"){sap.ui.require([e],this._addWaiter(t,i,a),function(e){a("Failed to load waiter "+t+": "+e)})}else if(typeof e==="object"){this._addWaiter(t,i,a)(e)}}.bind(this))},hasToWait:function(){var t=false;w.forEach(function(e){if(!t&&e.waiter.isEnabled()&&e.waiter.hasPending()){t=true}});if(!t){h.timestamp("opa.autoWaiter.syncPoint");h.debug("AutoWaiter syncpoint")}return t},extendConfig:function(e){if(!t(e)){w.forEach(function(t){if(t.waiter.extendConfig){t.waiter.extendConfig(e[t.name])}})}},getWaiters:function(){return w.slice()},_addWaiter:function(t,e,i){e=e||function(){};i=i||function(){};return function(a){if(typeof a.hasPending!=="function"){i("Waiter "+t+" should have a hasPending method")}else if(typeof a.isEnabled!=="function"){i("Waiter "+t+" should have an isEnabled method")}else{var r;w.forEach(function(e){if(e.name===t){h.debug("Waiter with name "+t+" will be overridden!");r=true;e.waiter=a}});if(!r){w.push({name:t,waiter:a})}e(a)}}}});var g=new m;var _={xhrWaiter:a,fetchWaiter:r,timeoutWaiter:n,promiseWaiter:s,navigationWaiter:o,cssTransitionWaiter:u,cssAnimationWaiter:f,jsAnimationWaiter:c,uiUpdatesWaiter:W,moduleWaiter:d,resourceWaiter:p};Object.keys(_).forEach(function(t){g._addWaiter(t)(_[t])});return g},true);
//# sourceMappingURL=_autoWaiter.js.map