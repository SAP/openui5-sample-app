{"version":3,"file":"Opa.js","names":["sap","ui","define","deepExtend","extend","Device","$","_LogCollector","_OpaLogger","_ParameterValidator","_UsageReport","_OpaUriParameterParser","_ValidationParameters","oLogger","getLogger","oLogCollector","getInstance","queue","context","timeout","oStopQueueOptions","oQueueDeferred","isEmptyQueueStarted","lastInternalWaitStack","oValidator","errorPrefix","start","internalWait","fnCallback","oOptions","window","debugTimeout","startTime","Date","opaCheck","timestamp","getAndClearLog","oResult","_stack","error","reject","result","internalEmpty","iPassedSeconds","setTimeout","pollingInterval","addErrorMessageToOptions","arguments","length","resolve","queueElement","shift","callback","options","Opa","config","asyncPolling","executionDelay","ensureNewlyAddedWaitForStatementsPrepended","oWaitForCounter","oNestedInOptions","iNewWaitForsCount","get","aNewWaitFors","splice","forEach","_nestedIn","concat","getMessageForException","oError","getErrorMessage","sErrorMessage","toString","stack","oErrorStack","sLogs","addStacks","errorMessage","createStack","iDropCount","browser","mozilla","Error","oError2","split","join","sResult","extensionObject","this","and","extendConfig","aComponents","filter","sArrangeActAssert","oNewComponent","oNewComponentProto","Object","getPrototypeOf","oCurrentConfig","oCurrentConfigProto","sKey","sProtoKey","_uriParams","setLevel","logLevel","executionDelayDefault","safari","resetConfig","arrangements","actions","assertions","_stackDropCount","getContext","emptyQueue","Deferred","promise","fail","qunitTimeout","always","stopQueue","_stopQueue","warning","clearTimeout","_getOpaParams","_usageReport","prototype","waitFor","deferred","oFilteredConfig","_createFilteredConfig","_aConfigValuesForWaitFor","_validateWaitFor","_this","push","bCheckPassed","check","apply","success","_getWaitForCounter","_handleErrorMessage","bind","_ensureNewlyAddedWaitForStatementsPrepended","_getQueue","slice","iWaitForPromise","oPromise","_schedulePromiseOnFlow","mPromiseState","started","then","done","oParameters","validate","validationInfo","OPA_WAITFOR","inputToValidate","_createFilteredOptions","aAllowedProperties","oSource","oFilteredOptions","vConfigValue","undefined","iQueueLengthOnCreation","iLength","Math","max","keys","OPA_WAITFOR_CONFIG"],"sources":["Opa-dbg.js"],"mappings":"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","ignoreList":[]}