/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/test/actions/Press","sap/ui/test/actions/EnterText","sap/ui/test/autowaiter/_autoWaiterAsync","sap/ui/test/_ControlFinder","sap/ui/test/selectors/_ControlSelectorGenerator","sap/ui/test/_OpaLogger"],function(e,t,n,r,o,i,c){"use strict";var s=e.extend("sap.ui.test.RecordReplay",{});var l=c.getLogger("sap.ui.test.RecordReplay");s.InteractionType={Press:"PRESS",EnterText:"ENTER_TEXT"};s.findControlSelectorByDOMElement=function(e){return new Promise(function(t,n){var r=o._getControlForElement(e.domElement);if(!r){n(new Error("Could not find control for DOM element "+e.domElement.id))}var c=Object.assign({control:r},e);i._generate(c).then(function(n){var i=o._getDomElementIDSuffix(e.domElement,r);if(i){l.debug("DOM element ID suffix is "+i);n.interaction={idSuffix:i}}t(n)}).catch(function(t){n(new Error("No control selector found for DOM element "+e.domElement.id+". Error: "+t))})})};s.findDOMElementByControlSelector=function(e){return s.findAllDOMElementsByControlSelector(e).then(function(t){if(t.length){return t[0]}else{throw new Error("No DOM element found using the control selector "+JSON.stringify(e.selector))}})};s.findAllDOMElementsByControlSelector=function(e){return new Promise(function(t,n){try{var r=o._findElements(e.selector);t(r)}catch(t){n(new Error("No DOM element found using the control selector "+JSON.stringify(e.selector)+". Error: "+t))}})};s.interactWithControl=function(e){var r=JSON.stringify(e.selector),i=e.selector&&e.selector.interaction,c=i&&typeof i==="object"?i.idSuffix:"";return new Promise(function(i,u){var a;switch(e.interactionType){case s.InteractionType.Press:a=new t({idSuffix:c});break;case s.InteractionType.EnterText:a=new n({text:e.enterText,pressEnterKey:e.pressEnterKey,keepFocus:e.keepFocus,idSuffix:c});break;default:u(new Error("Could not interact with control "+r+". Unsupported interaction type: "+e.interactionType+" . Supported interaction types are: "+Object.keys(s.InteractionType).join(", ")))}try{var f=o._findControls(e.selector)[0];if(!f){throw new Error("No controls found using selector "+r)}a.executeOn(f);l.debug("Executed action "+e.interactionType+" on control "+r);i()}catch(t){u(new Error("Could not execute interaction "+e.interactionType+" on control "+r+". Error: "+t))}})};s.waitForUI5=function(e){e=e||{};r.resetConfig();r.extendConfig(e);return new Promise(function(e,t){r.waitAsync(function(n){if(n){t(new Error(n))}else{e()}})},"PROMISE_WAITER_IGNORE")};return s});
//# sourceMappingURL=RecordReplay.js.map