/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/config","sap/base/Log","sap/ui/base/EventProvider","sap/ui/performance/trace/Interaction","sap/ui/performance/Measurement"],(e,n,t,r,d)=>{"use strict";const a=n.getLogger("sap.ui.Rendering",e.get({name:"sapUiXxDebugRendering",type:e.Type.Boolean,external:true,freeze:true})?n.Level.DEBUG:Math.min(n.Level.INFO,n.getLevel()));const i=20,s=new t,p=[];let o,u={};let g=[];let U=false;const f=e=>{try{d.start("renderPendingUIUpdates","Render pending UI updates in all UIAreas");a.debug("Render pending UI updates: start ("+(e||"by timer")+")");let n=0;const t=i>0;U=true;do{if(t){n++;if(n>i){U=false;throw new Error("Rendering has been re-started too many times ("+n+"). Add URL parameter sap-ui-xx-debugRendering=true for a detailed analysis.")}if(n>1){a.debug("Render pending UI updates: iteration "+n)}}if(o){if(o!==c){clearTimeout(o)}o=undefined;if(p.length>0){p.pop()()}}l();const e=u;u={};for(const n in e){e[n].rerender()}}while(t&&o);U=false;c.fireUIUpdated();a.debug("Render pending UI updates: finished");d.end("renderPendingUIUpdates")}catch(e){const n=c.fireUIUpdated({failed:e});if(n){throw e}}};const c={notifyInteractionStep(){p.push(r.notifyAsyncStep())},addPrerenderingTask(e,n){if(n){g.unshift(e)}else{g.push(e)}},renderPendingUIUpdates(e,n){if(n!==undefined){p.push(r.notifyAsyncStep());o=setTimeout(f.bind(null,e),n)}else{f(e)}},suspend(){o=c},resume(e){c.renderPendingUIUpdates(e,0)},isPending(){return!!(o||U)},attachUIUpdated(e,n){s.attachEvent("UIUpdated",e,n)},detachUIUpdated(e,n){s.detachEvent("UIUpdated",e,n)},fireUIUpdated(e){return s.fireEvent("UIUpdated",e,true)},getLogger(){return a},invalidateUIArea(e){u[e.getId()]=e;if(!o){a.debug("Registering timer for delayed re-rendering");c.renderPendingUIUpdates("invalidated UIArea",0)}}};const l=()=>{const e=g.slice();g=[];e.forEach(e=>{e()})};return c});
//# sourceMappingURL=Rendering.js.map