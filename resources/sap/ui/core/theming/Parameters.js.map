{"version":3,"file":"Parameters.js","names":["sap","ui","define","Library","Theming","URI","Element","future","Log","extend","syncFetch","ThemeManager","ThemeHelper","syncCallBehavior","loader","_","getSyncCallBehavior","Parameters","mParameters","sTheme","aParametersToLoad","aCallbackRegistry","sBootstrapOrigin","require","toUrl","document","baseURI","origin","mOriginsNeedingCredentials","rCssUrl","bUseInlineParameters","URLSearchParams","window","location","search","get","checkAndResolveRelativeUrl","sUrl","sThemeBaseUrl","aMatch","exec","oUri","is","sNormalizedUrl","absoluteTo","normalize","toString","mergeParameterSet","mCurrent","mNew","sParam","mergeParameters","mNewParameters","default","scopes","sScopeName","forEachStyleSheet","fnCallback","querySelectorAll","forEach","linkNode","getAttribute","parseParameters","sId","bAsync","oUrl","getThemeBaseUrlForId","bThemeApplied","checkAndRemoveStyle","id","warning","oLink","getElementById","sDataUri","getComputedStyle","getPropertyValue","aParams","length","sParams","charAt","decodeURIComponent","ex","warningThrows","styleSheetUrl","oParams","JSON","parse","themeBaseUrl","loadParameters","replace","$0","$1","$2","error","sThemeOrigin","bWithCredentials","aWithCredentials","undefined","startsWith","loadParametersJSON","sStyleSheetUrl","href","filename","query","oHeaders","Accept","ContentTypes","bCurrentWithCredentials","shift","fnErrorCallback","errorThrows","response","credentials","headers","ok","data","json","Array","isArray","j","Error","statusText","status","getParameters","push","parsePendingLibraryParameters","aPendingThemes","loadPendingLibraryParameters","_addLibraryTheme","sLibId","getParam","mOptions","async","scopeName","sParamValue","parameterName","iIndex","indexOf","sParamNameWithoutColon","substr","loadPendingParameters","aAllLibrariesRequireCss","getAllInstancesRequiringCss","oLibThemingInfo","_includeLibraryThemeAndEnsureThemeRoot","getParamForActiveScope","sParamName","oElement","aScopeChain","getActiveScopesFor","aFilteredScopeChain","flat","reduce","aResult","sScope","i","_getScopes","bAvoidLoading","aScopes","Object","keys","domRef","getDomRef","this","fnNodeHasStyleClass","scopeList","classList","contains","aFoundScopeClasses","filter","parentNode","fnControlHasStyleClass","hasStyleClass","getParent","vName","fnAsyncCallback","aNames","findRegisteredCallback","oCallbackInfo","callback","getTheme","arguments","type","assign","name","scopeElement","join","resolveWithParameter","vResult","lookForParameter","sName","themeLoaded","_detachThemeApplied","vParams","splice","findIndex","bind","eventHandler","_attachThemeApplied","_setOrLoadParameters","mLibraryParameters","sLibname","reset","_reset","apply","bOnlyWhenNecessary","_getThemeImage","bForce","logo","match"],"sources":["Parameters-dbg.js"],"mappings":"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"}