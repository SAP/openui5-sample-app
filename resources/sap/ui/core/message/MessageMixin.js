/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/library","sap/base/Log","sap/ui/core/LabelEnablement"],function(e,t,i,s){"use strict";var a=t.ValueState;var n=function(){this.refreshDataState=r;this.fnDestroy=this.destroy;this.destroy=g};function r(t,n){if(n.getChanges().messages&&this.getBinding(t)&&this.getBinding(t).isA("sap.ui.model.PropertyBinding")){var r=n.getMessages();var g=s.getReferencingLabels(this);var o=g[0];var l=false;r.forEach(function(t){if(g&&g.length>0){var s=e.getElementById(o);if(s.getMetadata().isInstanceOf("sap.ui.core.Label")&&s.getText){let e=t.getAdditionalText();const i=s.getText();if(!e||!e.includes(i)){e=e?`${e}, ${i}`:i;t.setAdditionalText(e);l=true}}else{i.warning("sap.ui.core.message.Message: Can't create labelText."+"Label with id "+o+" is no valid sap.ui.core.Label.",this)}}if(!t.getControlIds().includes(this.getId())){t.addControlId(this.getId());l=true}}.bind(this));var d=sap.ui.require("sap/ui/core/Messaging");if(d){var u=d.getMessageModel();u.checkUpdate(l,true)}if(r&&r.length>0){var h=r[0];if(a[h.type]){this.setValueState(h.type);this.setValueStateText(h.message)}}else{this.setValueState(a.None);this.setValueStateText("")}}}function g(){var e=this.getId();function t(t){t.removeControlId(e)}for(var i in this.mBindingInfos){var s=this.mBindingInfos[i];if(s.binding){var a=s.binding.getDataState();var n=a.getAllMessages();n.forEach(t)}}this.fnDestroy.apply(this,arguments)}return n},true);
//# sourceMappingURL=MessageMixin.js.map