/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/library","sap/base/Log","sap/ui/core/LabelEnablement"],function(e,t,s,i){"use strict";const a=Symbol("sap.ui.core.message.MessageMixin");const n=t.ValueState;var r=function(){this.refreshDataState=o;this.fnDestroy=this.destroy;this.destroy=g};function o(t,r){if(r.getChanges().messages&&this.getBinding(t)&&this.getBinding(t).isA("sap.ui.model.PropertyBinding")){var o=r.getMessages();var g=i.getReferencingLabels(this);var l=g[0];var d=false;o.forEach(function(t){if(g&&g.length>0){var i=e.getElementById(l);if(i.getMetadata().isInstanceOf("sap.ui.core.Label")&&i.getText){let e=t.getAdditionalText()||"";const s=i.getText();if(!e.split(",").includes(s)){if(t[a]){e=e?`${e}, ${s}`:s}else{e=s;t[a]=true}t.setAdditionalText(e);d=true}}else{s.warning("sap.ui.core.message.Message: Can't create labelText."+"Label with id "+l+" is no valid sap.ui.core.Label.",this)}}if(!t.getControlIds().includes(this.getId())){t.addControlId(this.getId());d=true}}.bind(this));var u=sap.ui.require("sap/ui/core/Messaging");if(u){var f=u.getMessageModel();f.checkUpdate(d,true)}if(o&&o.length>0){var h=o[0];if(n[h.type]){this.setValueState(h.type);this.setValueStateText(h.message)}}else{this.setValueState(n.None);this.setValueStateText("")}}}function g(){var e=this.getId();function t(t){t.removeControlId(e)}for(var s in this.mBindingInfos){var i=this.mBindingInfos[s];if(i.binding){var a=i.binding.getDataState();var n=a.getAllMessages();n.forEach(t)}}this.fnDestroy.apply(this,arguments)}return r},true);
//# sourceMappingURL=MessageMixin.js.map