/*
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/EventProvider","sap/base/assert"],function(e,t){"use strict";var i=e.extend("sap.ui.core.util.serializer.Serializer",{constructor:function(t,i,r,s,a,n){e.apply(this);this._oRootControl=t;this._delegate=i;this._bSkipRoot=!!r;this._oWindow=s||globalThis;this._fnSkipAggregations=a;this._fnSkipElement=n}});i.prototype.serialize=function(){return this._serializeRecursive(this._oRootControl,0)};i.prototype._serializeRecursive=function(e,i,r,s){t(typeof e!=="undefined","The control must not be undefined");var a=[];var n=!this._bSkipRoot||i!==0;if(n){var o=this._delegate.start(e,r,s);var g=this._delegate.middle(e,r,s);a.push(o+g)}var l=e.getMetadata().getAllAggregations();if(l){for(var h in l){if(this._fnSkipAggregations&&this._fnSkipAggregations(e,h)){continue}var u=[];var f=l[h];var p=e[f._sGetter]();if(e.getBindingPath(h)&&e.getBindingInfo(h).template){u.push(e.getBindingInfo(h).template)}else if(p&&p.length){for(var _=0;_<p.length;_++){var d=p[_];if(this._isObjectSerializable(d)){u.push(d)}}}else if(this._isObjectSerializable(p)){u.push(p)}if(u.length>0){if(n){a.push(this._delegate.startAggregation(e,h))}var v=this._isDefaultAggregation(e,h);for(var c=0;c<u.length;c++){a.push(this._serializeRecursive(u[c],i+1,h,v))}if(n){a.push(this._delegate.endAggregation(e,h))}}}}if(n){var b=this._delegate.end(e,r,s);a.push(b)}return a.join("")};i.prototype._isObjectSerializable=function(e){return!!e?.isA?.("sap.ui.core.Element")&&!(this._fnSkipElement&&this._fnSkipElement(e))};i.prototype._isDefaultAggregation=function(e,t){return e.getMetadata().getDefaultAggregationName()===t};return i});
//# sourceMappingURL=Serializer.js.map