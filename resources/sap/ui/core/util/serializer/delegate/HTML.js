/*
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Delegate","sap/base/strings/hyphenate","sap/base/util/deepEqual"],function(t,e,r){"use strict";var i=t.extend("sap.ui.core.util.serializer.delegate.HTML",{constructor:function(e,r){t.apply(this);this._fnGetControlId=e;this._fnGetEventHandlerName=r}});i.prototype.startAggregation=function(t,e){return'<div data-sap-ui-aggregation="'+e+'">'};i.prototype.endAggregation=function(t,e){return"</div>"};i.prototype.start=function(t,e,r){return"<div"};i.prototype.middle=function(t,e,i){var a=[];var n=this._fnGetControlId?this._fnGetControlId(t):t.getId();if(n.indexOf("__")!==0){a.push(this._createAttribute("id",n))}a.push(this._createAttribute("data-sap-ui-type",t.getMetadata()._sClassName));if(t.aCustomStyleClasses){var s=t.aCustomStyleClasses;var u=[];for(var o=0;o<s.length;o++){var l=s[o];if(!l.startsWith("sapM")&&!l.startsWith("sapUi")){u.push(l)}}if(u.length>0){a.push(this._createAttribute("class",u.join(" ")))}}if(this._fnGetEventHandlerName){var g=t.getMetadata().getAllEvents();for(var p in g){if(t.hasListeners(p)){var f=t.mEventRegistry[p];for(var o=0;o<f.length;o++){var d=this._fnGetEventHandlerName(f[o]);if(d){a.push(this._createAttribute("data-"+this._createHtmlAttributeName(p),d));break}}}}}var c=t.getMetadata().getAllAssociations();this._createAttributes(a,t,c,function(t,e){if(c[t].multiple){return e.join(" ")}return e},function(t,e){return e!==null&&e!==""});var h=t.getMetadata().getAllProperties();var v=t.getMetadata().getPropertyDefaults();this._createAttributes(a,t,h,null,function(t,e){return!r(e,v[t])});var _=t.getMetadata().getAllAggregations();this._createAttributes(a,t,_,null,function(e,r){if(!t.getBindingInfo(e)&&(!r||typeof r!=="string")){return false}return true});a.push(">");return a.join("")};i.prototype.end=function(t,e,r){return"</div>"};i.prototype._createAttributes=function(t,e,r,i,a){for(var n in r){var s=r[n];var u=s._sGetter;if(e[u]){var o=e[u]();o=i?i(n,o):o;if(!e.getBindingInfo(n)){if(!a||a(n,o)){t.push(this._createAttribute("data-"+this._createHtmlAttributeName(n),o))}}else{t.push(this._createDataBindingAttribute(e,n,o))}}}};i.prototype._createDataBindingAttribute=function(t,e,r){var i=t.getBindingInfo(e);var a=null;var n=r;if(!i.bindingString){if(i.binding){var s=i.binding.getMetadata().getName();if(s==="sap.ui.model.PropertyBinding"||s==="sap.ui.model.resource.ResourcePropertyBinding"){a=i.binding.getValue()}}if(i.parts){i=i.parts[0]}var u=i.model;if(a===r||a===null){n="{"+(u?u+">"+i.path:i.path)+"}"}}else{n=i.bindingString}return this._createAttribute("data-"+this._createHtmlAttributeName(e),n)};i.prototype._createAttribute=function(t,e){return" "+t+'="'+e+'"'};i.prototype._createHtmlAttributeName=function(t){return e(t)};return i});
//# sourceMappingURL=HTML.js.map