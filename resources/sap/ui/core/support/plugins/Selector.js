/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/Popup","sap/ui/core/RenderManager","sap/ui/core/StaticArea","../Plugin","../Support","sap/ui/thirdparty/jquery","sap/base/util/uid"],function(e,t,o,i,n,s,jQuery,r){"use strict";var p=n.extend("sap.ui.core.support.plugins.Selector",{constructor:function(e){n.apply(this,["sapUiSupportSelector","",e]);this._aEventIds=[this.getId()+"Highlight"];this._oPopup=new t}});p.prototype.isToolPlugin=function(){return false};p.prototype.onsapUiSupportSelectorHighlight=function(e){u(e.getParameter("id"),this,e.getParameter("sendInfo"))};p.prototype.init=function(e){n.prototype.init.apply(this,arguments);var t;if(!this._sPopupId){this._sPopupId=this.getId()+"-"+r();var s=new o;s.openStart("div",this._sPopupId).style("border","2px solid rgb(0, 128, 0)").style("background-color","rgba(0, 128, 0, .55)").openEnd().close("div");s.flush(i.getDomRef(),false,true);s.destroy();t=jQuery(document.getElementById(this._sPopupId));this._oPopup.setContent(t[0])}else{t=jQuery(document.getElementById(this._sPopupId))}var p=this;this._fSelectHandler=function(e){if(!e.shiftKey||!e.altKey||!e.ctrlKey){return}var t=jQuery(e.target).closest("[data-sap-ui]").attr("id");if(u(t,p,true)){e.stopPropagation();e.preventDefault()}};this._fCloseHandler=function(e){p._oPopup.close(0)};t.on("click",this._fCloseHandler);jQuery(document).on("mousedown",this._fSelectHandler)};p.prototype.exit=function(e){this._oPopup.close(0);if(this._fCloseHandler){jQuery(document.getElementById(this._sPopupId)).off("click",this._fCloseHandler);this._fCloseHandler=null}if(this._fSelectHandler){jQuery(document).off("mousedown",this._fSelectHandler);this._fSelectHandler=null}n.prototype.exit.apply(this,arguments)};function u(t,o,i){if(t){var n=e.getElementById(t);if(n){var r=jQuery(document.getElementById(o._sPopupId));var p=n.$();if(p.is(":visible")){r.width(p.outerWidth());r.height(p.outerHeight());o._oPopup.open(0,"BeginTop","BeginTop",p[0],"0 0","none");if(i){s.getStub().sendEvent(o.getId()+"Select",l(n,o))}setTimeout(function(){o._oPopup.close(0)},1e3);return true}}}return false}function l(e,t){return{id:e.getId()}}return p});
//# sourceMappingURL=Selector.js.map