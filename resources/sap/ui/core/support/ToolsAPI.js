/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/ui/VersionInfo","sap/ui/core/AnimationMode","sap/ui/core/Configuration","sap/ui/core/ControlBehavior","sap/ui/core/Core","sap/ui/core/Element","sap/ui/core/ElementMetadata","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/Supportability","sap/ui/core/Theming","sap/base/util/LoaderExtensions","sap/ui/thirdparty/jquery"],function(e,t,r,a,n,i,o,g,u,l,c,d,s,p,jQuery){"use strict";function m(){var e=r._content?r._content.libraries:undefined;var t=Object.create(null);if(e!==undefined){e.forEach(function(e,r,a){t[e.name]=e.version})}return t}function f(){var e=l.all();var t=Object.create(null);Object.keys(l.all()).forEach(function(r,a,n){t[r]=e[r].version});return t}function b(){var e=new URLSearchParams(window.location.search);return Array.from(e.keys()).reduce(function(t,r){t[r]=e.getAll(r);return t},{})}function v(){return{commonInformation:{version:o.version,buildTime:o.buildinfo.buildtime,lastChange:o.buildinfo.lastchange,jquery:jQuery.fn.jquery,userAgent:navigator.userAgent,applicationHREF:window.location.href,documentTitle:document.title,documentMode:document.documentMode||"",debugMode:d.isDebugModeEnabled(),statistics:d.isStatisticsEnabled()},configurationBootstrap:window["sap-ui-config"]||Object.create(null),configurationComputed:{theme:s.getTheme(),language:t.getLanguage(),formatLocale:new c(e.getLanguageTag()),accessibility:i.isAccessibilityEnabled(),animation:i.getAnimationMode()!==a.minimal&&i.getAnimationMode()!==a.none,rtl:t.getRTL(),debug:d.isDebugModeEnabled(),inspect:d.isControlInspectorEnabled(),originInfo:d.collectOriginInfo(),noDuplicateIds:n.getNoDuplicateIds()},libraries:m(),loadedLibraries:f(),loadedModules:p.getAllRequiredModules().sort(),URLParameters:b()}}var h={_createRenderedTreeModel:function(e,t){var r=e;var a=r.firstElementChild;var n=t;var i=n;var o=r.getAttribute("data-sap-ui-related");var u=o?o:r.id;var l=g.getElementById(u);if((r.getAttribute("data-sap-ui")||r.getAttribute("data-sap-ui-related"))&&l){n.push({id:l.getId(),name:l.getMetadata().getName(),type:"sap-ui-control",content:[]});i=n[n.length-1].content}else if(r.getAttribute("data-sap-ui-area")){n.push({id:r.id,name:"sap-ui-area",type:"data-sap-ui",content:[]});i=n[n.length-1].content}while(a){this._createRenderedTreeModel(a,i);a=a.nextElementSibling}}};var y={_getOwnProperties:function(e){var t=Object.create(null);var r=e.getMetadata().getProperties();t.meta=Object.create(null);t.meta.controlName=e.getMetadata().getName();t.properties=Object.create(null);Object.keys(r).forEach(function(a){t.properties[a]=Object.create(null);t.properties[a].value=e.getProperty(a);t.properties[a].type=r[a].getType().getName?r[a].getType().getName():""});return t},_copyInheritedProperties:function(e,t){var r=t.getProperties();var a=Object.create(null);a.meta=Object.create(null);a.meta.controlName=t.getName();a.properties=Object.create(null);Object.keys(r).forEach(function(t){a.properties[t]=Object.create(null);a.properties[t].value=r[t].get(e);a.properties[t].type=r[t].getType().getName?r[t].getType().getName():""});return a},_getInheritedProperties:function(e){var t=[];var r=e.getMetadata().getParent();while(r instanceof u){t.push(this._copyInheritedProperties(e,r));r=r.getParent()}return t},_getProperties:function(e){var t=g.getElementById(e);var r=Object.create(null);if(t){r.own=this._getOwnProperties(t);r.inherited=this._getInheritedProperties(t)}return r},_getModelFromContext:function(e,t){var r=e.getBinding(t);var a=r.getModel();var n=e.getBindingInfo(t).parts?e.getBindingInfo(t).parts:[];var i=[];for(var o=0;o<n.length;o++){i.push(n[o].model)}var g={names:i,path:r.getPath()};if(a){g.mode=a.getDefaultBindingMode();g.type=a.getMetadata().getName();g.data=a.getData?a.getData("/"):undefined}return g},_getBindDataForProperties:function(e){var t=e.getMetadata().getAllProperties();var r=Object.create(null);for(var a in t){if(t.hasOwnProperty(a)&&e.getBinding(a)){r[a]=Object.create(null);r[a].path=e.getBinding(a).getPath();r[a].value=e.getBinding(a).getValue();r[a].type=e.getMetadata().getProperty(a).getType().getName?e.getMetadata().getProperty(a).getType().getName():"";r[a].mode=e.getBinding(a).getBindingMode();r[a].model=this._getModelFromContext(e,a)}}return r},_getBindDataForAggregations:function(e){var t=e.getMetadata().getAllAggregations();var r=Object.create(null);for(var a in t){if(t.hasOwnProperty(a)&&e.getBinding(a)){r[a]=Object.create(null);r[a].model=this._getModelFromContext(e,a)}}return r}};return{getFrameworkInformation:v,getRenderedControlTree:function(){var e=[];h._createRenderedTreeModel(document.body,e);return e},getControlProperties:function(e){return y._getProperties(e)},getControlBindings:function(e){var t=Object.create(null);var r=g.getElementById(e);var a;if(!r){return t}a=r.getBindingContext();t.meta=Object.create(null);t.contextPath=a?a.getPath():null;t.aggregations=y._getBindDataForAggregations(r);t.properties=y._getBindDataForProperties(r);return t}}});
//# sourceMappingURL=ToolsAPI.js.map