/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/Title","sap/ui/core/Element","sap/ui/core/Title","sap/ui/core/Lib","sap/ui/fl/Utils"],function(e,t,n,r,a){"use strict";function o(e){var t=[];var n;var r;if(e.getMetadata().getName()==="sap.ui.layout.form.FormElement"){n=e.getLabel();if(n){t.push(n)}t=t.concat(e.getFields())}else if(e.getMetadata().getName()==="sap.ui.layout.form.FormContainer"){r=e.getTitle()||e.getToolbar();if(r){t[0]=r}e.getFormElements().forEach(function(e){n=e.getLabel();if(n){t.push(n)}t=t.concat(e.getFields())})}else if(e.getMetadata().getName()==="sap.ui.layout.form.Form"){t.push(e)}return t}function i(e){if(e.getMetadata().getName()==="sap.ui.layout.form.SimpleForm"){return e}else if(e.getParent()){return i(e.getParent())}}function l(e){var t=i(e);return t&&t.getContent().every(function(e){return a.checkControlId(e)})}var u={properties:{width:{ignore:true},editable:{ignore:true}},aggregations:{formContainers:{childNames:{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"},getIndex:function(e,t){var n=e.getFormContainers();if(t){return n.indexOf(t)+1}if(n.length>0&&n[0].getFormElements().length===0&&n[0].getTitle()===null){return 0}return n.length},beforeMove:function(e){if(e){e._bChangedByMe=true}},afterMove:function(e){if(e){e._bChangedByMe=false}},actions:{move:function(e){if(l(e)){return{changeType:"moveSimpleFormGroup"}}},remove:{removeLastElement:true},createContainer:{changeType:"addSimpleFormGroup",changeOnRelevantContainer:true,isEnabled:function(e){var t=e.getFormContainers();for(var n=0;n<t.length;n++){if(t[n].getToolbar&&t[n].getToolbar()){return false}}return true},getCreatedContainerId:function(e){var n=t.getElementById(e);var r=n.getParent().getId();return r}}}}},actions:{localReset:{changeType:"localReset",changeOnRelevantContainer:true}},getStableElements:o};var g={name:{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"},properties:{visible:{ignore:true},expanded:{ignore:true},expandable:{ignore:true}},aggregations:{formElements:{childNames:{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"},beforeMove:function(e){if(e){e._bChangedByMe=true}},afterMove:function(e){if(e){e._bChangedByMe=false}},actions:{move:function(e){if(l(e)){return{changeType:"moveSimpleFormField"}}},add:{delegate:{changeType:"addSimpleFormField",changeOnRelevantContainer:true}}}}},actions:{rename:function(e){return{changeType:"renameTitle",changeOnRelevantContainer:true,isEnabled:!(e.getToolbar()||!e.getTitle()),domRef:function(e){if(e.getTitle&&e.getTitle()){return e.getTitle().getDomRef()}}}},remove:function(t){return{changeType:"removeSimpleFormGroup",changeOnRelevantContainer:true,isEnabled:!!(t.getToolbar()||t.getTitle()),getConfirmationText:function(t){var a=false;if(t.getMetadata().getName()==="sap.ui.layout.form.FormContainer"&&t.getToolbar&&t.getToolbar()){var o=t.getToolbar().getContent();if(o.length>1){a=true}else if(o.length===1&&!o[0].getMetadata().isInstanceOf("sap.ui.core.Label")&&!(o[0]instanceof n)&&!(o[0]instanceof e)){a=true}}if(a){var i=r.getResourceBundleFor("sap.ui.layout.designtime");return i.getText("MSG_REMOVING_TOOLBAR")}}}}},getStableElements:o};var s={name:{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"},properties:{visible:{ignore:true}},actions:{rename:{changeType:"renameLabel",changeOnRelevantContainer:true,domRef:function(e){return e.getLabel().getDomRef()}},remove:{changeType:"hideSimpleFormField",changeOnRelevantContainer:true,jsOnly:true},reveal:{changeType:"unhideSimpleFormField",changeOnRelevantContainer:true,jsOnly:true}},getStableElements:o};return{palette:{group:"LAYOUT",icons:{svg:"sap/ui/layout/designtime/form/SimpleForm.icon.svg"}},aggregations:{content:{ignore:true},title:{ignore:true},toolbar:{ignore:function(e){return!e.getToolbar()},domRef:function(e){return e.getToolbar().getDomRef()}},form:{ignore:false,propagateMetadata:function(e){var t=e.getMetadata().getName();if(t==="sap.ui.layout.form.Form"){return u}else if(t==="sap.ui.layout.form.FormContainer"){return g}else if(t==="sap.ui.layout.form.FormElement"){return s}else if(e.isA("sap.ui.core.Label")){return{actions:"not-adaptable"}}else{return{actions:null}}},propagateRelevantContainer:true}}}});
//# sourceMappingURL=SimpleForm.designtime.js.map